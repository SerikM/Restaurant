<br />
<br />

<section class="section-shadow section-light-grey section-thumbnails">
    <div class="container">
        <div class="col-md-12">
            <h3>Manage menu here</h3>
        </div>

        <div class="row">
            <div class="col-md-3 col-lg-3 col-sm-12 col-xs-12 new-event-link">
                <a href="#" ng-click="addNewMenuBox()">new menu</a>
            </div>
        </div>

        <div ng-repeat="menu in menus">

          <hr />
          <div class="row">
           
         <!--menu details start here-->
         <div class="col-md-3 col-lg-3 col-sm-12 col-xs-12">
                    <form enctype="multipart/form-data" method="post" ng-attr-action="/api/Admin/SaveMenu"
                          ng-upload="saveMenuDetailsCompleted()">
                        <div class="form-group">
                            <input ng-model="menu.ID" name="menuId" type="hidden" value="{{menu.ID}}" />

                            <input class="col-md-12 col-lg-12 col-sm-12 col-xs-12" ng-model="menu.NAME" name="name" type="text" placeholder="menu name" value="{{menu.NAME}}" />
                          
                          <span class="col-md-12 col-lg-12 col-sm-12 col-xs-12" id="pdf-name-display-{{menu.ID}}"></span>
                            
                          <!--browse for pdf button-->
                          <label ng-model="menu.PDF" class="btn btn-default btn-file col-md-12 col-lg-12 col-sm-12 col-xs-12">
                                Browse for menu pdf
                          <input name="pdf" data-target-item="{{menu.ID}}" id="pdf-file-input-{{menu.ID}}" custom-on-change="selectMenuPdf" style="display:none;" type="file" />
                         </label>
                            
                            <img class="img-fluid img-thumbnail img-responsive" ng-src="data:image/JPEG;base64,{{menu.BANNER}}" />
                        </div>
                        
                        <!--browse for banner-->
                        <label class="btn btn-default btn-file col-md-12 col-lg-12 col-sm-12 col-xs-12">
                            Browse for menu banner<input ng-model="menu.BANNER" id="menu-banner-input-{{menu.ID}}" data-target-item="{{menu.ID}}" custom-on-change="selectMenuBanner"  name="banner" style="display:none;" type="file" />
                        </label>

                        <!--save menu button-->
                        <label class="btn btn-default btn-file col-md-12 col-lg-12 col-sm-12 col-xs-12">
                            Save<input type="submit" ng-click="saveMenuDetails($event, menu)" style="display: none;" />
                        </label>
                        <!--delete menu button-->
                        <label class="btn btn-default btn-file col-md-12 col-lg-12 col-sm-12 col-xs-12">
                            Delete<input ng-click="deleteMenu($event, menu)" type="submit" style="display: none;" />
                        </label>
                    </form>
            </div>
            
         <!--menu details end here-->
         <div class="col-md-9 col-lg-9 col-sm-12 col-xs-12">
           <div ng-repeat="dish in menu.ITEMS">
            <div class="clearfix" ng-if="$index % 3 == 0"></div>
            
             <!--update dish box-->
             <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12">
             <form enctype="multipart/form-data" method="post" ng-attr-action="/api/Admin/SaveDish"
                                  ng-upload="dishUpdateCompleted()"
                                  ng-upload-loading="loading()">

            <div class="form-group">
       
             <img class="img-fluid img-thumbnail img-responsive"
                ng-src="data:image/JPEG;base64,{{dish.IMAGE}}"/>
                
                <!--is special dish-->
                <div class="col-md-12 col-lg-12 col-sm-12 col-xs-12">
                    <div class="col-md-9 col-lg-9 col-sm-9 col-xs-9">Special yes/no</div>
                    <div class="col-md-3 col-lg-3 col-sm-3 col-xs-3">
                        <input ng-model="dish.IS_SPECIAL" name="isSpecial" type="checkbox" value="{{dish.IS_SPECIAL}}" />
                    </div>
                </div>  
              
                <input type="hidden" name="menuId" value="{{menu.ID}}" />
                <input type="hidden" name="dishId" value="{{dish.ID}}" />
                <!--dish name-->
                <input class="col-md-12 col-lg-12 col-sm-12 col-xs-12" ng-model="dish.NAME" name="name" type="text" placeholder="dish name" value="{{dish.NAME}}" />
                <!--dish description-->
                <input class="col-md-12 col-lg-12 col-sm-12 col-xs-12" ng-model="dish.DESCRIPTION" name="description" type="text" placeholder="dish description" value="{{dish.DESCRIPTION}}" />
                <!--dish price-->
                <input class="col-md-12 col-lg-12 col-sm-12 col-xs-12" ng-model="dish.PRICE" name="price" type="number" step="0.01" placeholder="price" value="{{dish.PRICE}}" /> 

                <!--browse button-->
               <label class="btn btn-default btn-file col-md-12 col-lg-12 col-sm-12 col-xs-12">
                browse for dish image<input name="dishImage" id="dish-file-input-{{dish.ID}}"
                data-target-item="{{dish.ID}}" custom-on-change="selectDishImage" style="display:none;" type="file" />
                </label>

               <!--save button-->
               <label class="btn btn-default btn-file col-md-12 col-lg-12 col-sm-12 col-xs-12">
               Save<input ng-click="saveDish($event, dish)" type="submit" style="display: none;" />
                </label>

                <!--delete button-->
               <label class="btn btn-default btn-file col-md-12 col-lg-12 col-sm-12 col-xs-12">
                 Delete<input ng-click="deleteDish($event, dish)" type="submit" style="display: none;" />
                 </label>

                
               </div>
              </form>
            </div>

           </div>
          <div class="col-md-4 col-lg-4 col-sm-12 col-xs-12 new-event-link">
           <a href="#" ng-click="addNewDishBox(menu)">new dish</a>
          </div>
         </div>

        </div>
        </div>
    </div>
</section>
